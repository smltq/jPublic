(function(){var root=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||this||{};var ArrayProto=Array.prototype,ObjProto=Object.prototype;var push=ArrayProto.push,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty;var nativeKeys=Object.keys;var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString");var nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];var _=function(obj){if(obj instanceof _)return obj;if(!(this instanceof _))return new _(obj);this._wrapped=obj};_.VERSION="1.8.3";if(typeof exports!="undefined"&&!exports.nodeType){if(typeof module!="undefined"&&!module.nodeType&&module.exports){exports=module.exports=_}exports._=_}else{root._=_}var optimizeCb=function(func,context,argCount){if(context===void 0)return func;switch(argCount==null?3:argCount){case 1:return function(value){return func.call(context,value)};case 3:return function(value,index,collection){return func.call(context,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(context,accumulator,value,index,collection)}}return function(){return func.apply(context,arguments)}};var shallowProperty=function(key){return function(obj){return obj==null?void 0:obj[key]}};var has=function(obj,path){return obj!=null&&hasOwnProperty.call(obj,path)};var MAX_ARRAY_INDEX=Math.pow(2,53)-1;var getLength=shallowProperty("length");var isArrayLike=function(collection){var length=getLength(collection);return typeof length=="number"&&length>=0&&length<=MAX_ARRAY_INDEX};var builtinIteratee;var cb=function(value,context,argCount){if(_.iteratee!==builtinIteratee)return _.iteratee(value,context);if(value==null)return _.identity;if(_.isFunction(value))return optimizeCb(value,context,argCount);if(_.isObject(value)&&!_.isArray(value))return _.matcher(value);return _.property(value)};var createAssigner=function(keysFunc,defaults){return function(obj){var length=arguments.length;if(defaults)obj=Object(obj);if(length<2||obj==null)return obj;for(var index=1;index<length;index++){var source=arguments[index],keys=keysFunc(source),l=keys.length;for(var i=0;i<l;i++){var key=keys[i];if(!defaults||obj[key]===void 0)obj[key]=source[key]}}return obj}};var collectNonEnumProps=function(obj,keys){var nonEnumIdx=nonEnumerableProps.length;var constructor=obj.constructor;var proto=_.isFunction(constructor)&&constructor.prototype||ObjProto;var prop="constructor";if(has(obj,prop)&&!_.contains(keys,prop))keys.push(prop);while(nonEnumIdx--){prop=nonEnumerableProps[nonEnumIdx];if(prop in obj&&obj[prop]!==proto[prop]&&!_.contains(keys,prop)){keys.push(prop)}}};_.iteratee=builtinIteratee=function(value,context){return cb(value,context,Infinity)};_.matcher=function(attrs){attrs=_.extendOwn({},attrs);return function(obj){return _.isMatch(obj,attrs)}};_.extendOwn=createAssigner(_.keys);_.isMatch=function(object,attrs){var keys=_.keys(attrs),length=keys.length;if(object==null)return!length;var obj=Object(object);for(var i=0;i<length;i++){var key=keys[i];if(attrs[key]!==obj[key]||!(key in obj))return false}return true};_.each=function(obj,iteratee,context){iteratee=optimizeCb(iteratee,context);var i,length;if(isArrayLike(obj)){for(i=0,length=obj.length;i<length;i++){iteratee(obj[i],i,obj)}}else{var keys=_.keys(obj);for(i=0,length=keys.length;i<length;i++){iteratee(obj[keys[i]],keys[i],obj)}}return obj};_.functions=function(obj){var names=[];for(var key in obj){if(_.isFunction(obj[key]))names.push(key)}return names.sort()};_.getUrlParam=function(name){var reg=new RegExp("(^|&)"+name+"=([^&]*)(&|$)","i");var r=window.location.search.substr(1).match(reg);if(r!=null){return decodeURIComponent(r[2])}return null};_.debounce=function(fn,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)fn.apply(context,args)};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)fn.apply(context,args)}};_.throttle=function(fn,wait,scope){wait||(wait=250);var last,deferTimer;return function(){var context=scope||this;var now=_.now(),args=arguments;if(last&&now<last+wait){clearTimeout(deferTimer);deferTimer=setTimeout(function(){last=now;fn.apply(context,args)},wait)}else{last=now;fn.apply(context,args)}}};_.runOnce=function(fn,context){var result;return function(){if(fn){result=fn.apply(context||this,arguments);fn=null}return result}};_.poll=function(fn,callback,errback,timeout,interval){var endTime=Number(new Date)+(timeout||2e3);interval=interval||100;(function p(){if(fn()){callback()}else if(Number(new Date)<endTime){setTimeout(p,interval)}else{errback(new Error("timed out for "+fn+": "+arguments))}})()};_.getRandom=function(min,max){if(max==null){max=min;min=0}return min+Math.floor(Math.random()*(max-min+1))};_.getFormJson=function(frm){var o={};var a=frm.serializeArray();_.each(a,function(){o[this.name]=this.value});return o};_.copyToClipboard=function(text){if(window.clipboardData&&window.clipboardData.setData){return clipboardData.setData("Text",text)}else if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var textarea=document.createElement("textarea");textarea.textContent=text;textarea.style.position="fixed";document.body.appendChild(textarea);textarea.select();try{return document.execCommand("copy")}catch(ex){console.warn("复制到剪贴板异常:",ex);return false}finally{document.body.removeChild(textarea)}}};_.defineOperate=function(arr,value){var str="";var len=arr.length,i=0;while(i<len){str+=_.format("<a style='cursor: pointer;' onclick='{1}' href='javascript:;'>{0}</a>",arr[i].text,_.format(arr[i].fn,value));str+=i==len-1?"":" | ";i++}return str};_.getRootPath=function(){var curPath=window.document.location.href;var pathName=window.document.location.pathname;var pos=curPath.indexOf(pathName);var localhostPaht=curPath.substring(0,pos);var projectName=pathName.substring(0,pathName.substr(1).indexOf("/")+1);return localhostPaht+projectName};_.format=function(format){var args=Array.prototype.slice.call(arguments,1);return format.replace(/{(\d+)}/g,function(match,number){return typeof args[number]!="undefined"?args[number]:match})};_.trim=function(str,chars){return this.ltrim(this.rtrim(str,chars),chars)};_.ltrim=function(str,chars){chars=chars||"\\s";return str.replace(new RegExp("^["+chars+"]+","g"),"")};_.rtrim=function(str,chars){chars=chars||"\\s";return str.replace(new RegExp("["+chars+"]+$","g"),"")};_.isFunction=function(obj){return typeof obj=="function"||false};_.isObject=function(obj){var type=typeof obj;return type==="function"||type==="object"&&!!obj};_.isValidDate=function(date){return!!(Object.prototype.toString.call(date)==="[object Date]"&&+date)};_.isNullOrEmpty=function(str){if(!str||_.trim(str)===""){return true}return false};_.isEmpty=function(obj){if(obj==null)return true;if(isArrayLike(obj)&&(_.isArray(obj)||_.isArguments(obj)))return obj.length===0;if(_.isString(obj))return _.isNullOrEmpty(obj);return _.keys(obj).length===0};_.isArray=function(obj){return toString.call(obj)==="[object Array]"};_.isNumeric=function(value){return!isNaN(parseFloat(value))&&isFinite(value)};_.isString=function(value){return typeof value==="string"};_.isArguments=function(obj){return has(obj,"callee")};_.truncate=function(str,limit,suffix){limit=limit||100;if(_.isString(str)){if(typeof suffix!=="string"){suffix="..."}if(str.length>limit){return str.slice(0,limit-suffix.length)+suffix}return str}};_.fmoney=function(value,digit){digit=digit>0&&digit<=20?digit:2;if(typeof value=="undefined"||!value&&value!=0){return""}value=parseFloat((value+"").replace(/[^\d\.-]/g,"")).toFixed(digit)+"";var ss=value.split(".");var r=ss[1];ss[0]=ss[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,");return ss[0]+"."+r.substring(0,digit)};_.defineColor=function(value,color){return'<span style="color:'+(color||"#FF0000")+'">'+value+"</span>"};_.formatBytes=function(bytes,decimals){if(bytes==0)return"0 Bytes";var k=1024,dm=decimals<=0?0:decimals||2,sizes=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(dm))+" "+sizes[i]};_.every=function(list,predicate,context){predicate=cb(predicate,context);var keys=!isArrayLike(list)&&_.keys(list),length=(keys||list).length;for(var index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(!predicate(list[currentKey],currentKey,list))return false}return true};_.some=function(list,predicate,context){predicate=cb(predicate,context);var keys=!isArrayLike(list)&&_.keys(list),length=(keys||list).length;for(var index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(predicate(list[currentKey],currentKey,list))return true}return false};_.range=function(start,stop,step){if(stop==null){stop=start||0;start=0}if(!step){step=stop<start?-1:1}var length=Math.max(Math.ceil((stop-start)/step),0);var range=Array(length);for(var idx=0;idx<length;idx++,start+=step){range[idx]=start}return range};_.keys=function(obj){if(!_.isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);var keys=[];for(var key in obj)if(has(obj,key))keys.push(key);if(hasEnumBug)collectNonEnumProps(obj,keys);return keys};_.clone=function(obj){if(!_.isObject(obj))return obj;return _.isArray(obj)?obj.slice():_.extend({},obj)};_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};_.now=Date.now||function(){return(new Date).valueOf()};_.serverTime=function(){var xmlHttp=new XMLHttpRequest||new ActiveXObject("Microsoft.XMLHTTP");xmlHttp.open("HEAD",location.href,false);xmlHttp.send();return new Date(xmlHttp.getResponseHeader("Date"))};_.getRandomDate=function(begin,end){begin=begin||new Date(1970,1,1);end=end||new Date;return new Date(_.getRandom(begin.getTime(),end.getTime()))};_.firstDay=function(date){date||(date=new Date);return new Date(date.getFullYear(),date.getMonth(),1)};_.lastDay=function(date){date||(date=new Date);return new Date(date.getFullYear(),date.getMonth()+1,0)};_.getWeekStartDate=function(date){date||(date=new Date);return new Date(date.getFullYear(),date.getMonth(),date.getDate()-date.getDay()+1)};_.getWeekEndDate=function(date){date||(date=new Date);return new Date(date.getFullYear(),date.getMonth(),date.getDate()+7-date.getDay())};_.dateFormat=function(date,format){date instanceof Date||(date=new Date(date));if(!_.isValidDate(date)){throw"parameter is not a date type!"}format=format||"yyyy-MM-dd hh:mm:ss";var o={"M+":date.getMonth()+1,"d+":date.getDate(),"h+":date.getHours(),"m+":date.getMinutes(),"s+":date.getSeconds(),"q+":Math.floor((date.getMonth()+3)/3),S:date.getMilliseconds()};if(/(y+)/.test(format)){format=format.replace(RegExp.$1,(date.getFullYear()+"").substr(4-RegExp.$1.length))}for(var k in o){if(new RegExp("("+k+")").test(format)){format=format.replace(RegExp.$1,RegExp.$1.length==1?o[k]:("00"+o[k]).substr((""+o[k]).length))}}return format};_.shortDateFormat=function(date){if(!date){return""}return this.dateFormat(date,"yyyy-MM-dd")};_.formatTime=function(n){if(n<0){throw"parameter cannot be less than 0!"}var hours=Math.floor(n/60/60);var minutes=Math.floor((n-hours*60*60)/60);var seconds=Math.round(n-hours*60*60-minutes*60);return hours+":"+(minutes<10?"0"+minutes:minutes)+":"+(seconds<10?"0"+seconds:seconds)};_.unformatTime=function(string){var timeArray=string.split(":"),seconds=0;if(timeArray.length===3){seconds=seconds+Number(timeArray[0])*60*60;seconds=seconds+Number(timeArray[1])*60;seconds=seconds+Number(timeArray[2])}else if(timeArray.length===2){seconds=seconds+Number(timeArray[0])*60;seconds=seconds+Number(timeArray[1])}return Number(seconds)};_.difference=function(a,b){var filtered=a.filter(function(e){return b.indexOf(e)===-1});return filtered};_.shuffle=function(array){var copy=[],n=array.length,i;while(n){i=Math.floor(Math.random()*n--);copy.push(array.splice(i,1)[0])}return copy};_.isRepeat=function(arr){var hash={};for(var i in arr){if(hash[arr[i]]){return true}hash[arr[i]]=true}return false};_.unique=function(arr){var a=[];for(var i=0,l=arr.length;i<l;i++){if(a.indexOf(arr[i])===-1){a.push(arr[i])}}return a};_.equals=function(a,b,strict){if(!b)return false;if(arguments.length==2)strict=true;if(a.length!=b.length)return false;for(var i=0;i<a.length;i++){if(a[i]instanceof Array&&b[i]instanceof Array){if(!a[i].equals(b[i],strict))return false}else if(strict&&a[i]!=b[i]){return false}else if(!strict){return _.equals(a.sort(),b.sort(),true)}}return true};_.EPSILON=Math.pow(2,-52);_.DEFAULT_SCALE=2;_.numAdd=function(x,y){var result=Number(x)+Number(y);return result};_.numSubtract=function(x,y){var result=Number(x)-Number(y);return result};_.numMultiply=function(x,y){var result=Number(x)*Number(y);return result};_.numDivide=function(x,y){var result=Number(x)/Number(y);return result};_.accAdd=function(arg1,arg2){var r1,r2,m,c;try{r1=arg1.toString().split(".")[1].length}catch(e){r1=0}try{r2=arg2.toString().split(".")[1].length}catch(e){r2=0}c=Math.abs(r1-r2);m=Math.pow(10,Math.max(r1,r2));if(c>0){var cm=Math.pow(10,c);if(r1>r2){arg1=Number(arg1.toString().replace(".",""));arg2=Number(arg2.toString().replace(".",""))*cm}else{arg1=Number(arg1.toString().replace(".",""))*cm;arg2=Number(arg2.toString().replace(".",""))}}else{arg1=Number(arg1.toString().replace(".",""));arg2=Number(arg2.toString().replace(".",""))}return(arg1+arg2)/m};_.accSub=function(arg1,arg2){var r1,r2,m,n;try{r1=arg1.toString().split(".")[1].length}catch(e){r1=0}try{r2=arg2.toString().split(".")[1].length}catch(e){r2=0}m=Math.pow(10,Math.max(r1,r2));n=r1>=r2?r1:r2;return((arg1*m-arg2*m)/m).toFixed(n)};_.accMul=function(arg1,arg2){var m=0,s1=arg1.toString(),s2=arg2.toString();try{m+=s1.split(".")[1].length}catch(e){}try{m+=s2.split(".")[1].length}catch(e){}return Number(s1.replace(".",""))*Number(s2.replace(".",""))/Math.pow(10,m)};_.accDiv=function(arg1,arg2){var t1=0,t2=0,r1,r2;try{t1=arg1.toString().split(".")[1].length}catch(e){}try{t2=arg2.toString().split(".")[1].length}catch(e){}with(Math){r1=Number(arg1.toString().replace(".",""));r2=Number(arg2.toString().replace(".",""));return r1/r2*pow(10,t2-t1)}};_.toFixed=function(x,digits){if(typeof x=="undefined"||x===""){return""}else if(!_.isNumeric(x)){return x}digits=digits||this.DEFAULT_SCALE;x=(x+"").replace("E","e");if((x+"").indexOf("e")!=-1){return(+(Math.round(+x)+"e"+-digits)).toFixed(digits)}return(+(Math.round(+(x+"e"+digits))+"e"+-digits)).toFixed(digits)};_.removeExponent=function(x){if(Math.abs(x)<1){var e=parseInt(x.toString().split("e-")[1]);if(e){x*=Math.pow(10,e-1);x="0."+new Array(e).join("0")+x.toString().substring(2)}}else{var e=parseInt(x.toString().split("+")[1]);if(e>20){e-=20;x/=Math.pow(10,e);x+=new Array(e+1).join("0")}}return x};_.numEqual=function(x,y){return Math.abs(x-y)<this.EPSILON};_.numCompare=function(x,y){if(!_.isNumeric(x)||!_.isNumeric(y)){throw"Parameter is not a number!"}if(_.numEqual(x,y))return 0;else if(x>y)return 1;else return-1};var REG_NUMBER=/^([+-])?0*(\d+)(\.(\d+))?$/;var REG_E=/^([+-])?0*(\d+)(\.(\d+))?e(([+-])?(\d+))$/i;_.getNumbResult=function(num){var result=REG_NUMBER.exec(num.toString());if(!result&&REG_E.test(num.toString())){result=REG_NUMBER.exec(_.e2ten(num.toString()))}if(result){return{int:result[2],decimal:result[4],minus:result[1]=="-",num:result.slice(1,3).join("")}}};_.e2ten=function(num){var result=REG_E.exec(num.toString());if(!result)return num;var zs=result[2],xs=result[4]||"",e=result[5]?+result[5]:0;if(e>0){var _zs=xs.substr(0,e);_zs=_zs.length<e?_zs+new Array(e-_zs.length+1).join("0"):_zs;xs=xs.substr(e);zs+=_zs}else{e=-e;var s_start=zs.length-e;s_start=s_start<0?0:s_start;var _xs=zs.substr(s_start,e);_xs=_xs.length<e?new Array(e-_xs.length+1).join("0")+_xs:_xs;zs=zs.substring(0,s_start);xs=_xs+xs}zs=zs==""?"0":zs;return(result[1]=="-"?"-":"")+zs+(xs?"."+xs:"")};_.clearZero=function(str,zero,type){if(str==null)return"";var reg0=~"*.?+$^[](){}|\\/".indexOf(zero)?"\\"+zero:zero;var arg_s=new RegExp("^"+reg0+"+"),arg_e=new RegExp(reg0+"+$"),arg_d=new RegExp(reg0+"{2}","g");str=str.toString();if(type=="^"){str=str.replace(arg_s,"")}if(!type||type=="$"){str=str.replace(arg_e,"")}if(!type||type=="nto1"){str=str.replace(arg_d,zero)}return str};_.cl=function(num,options){var result=_.getNumbResult(num);if(!result){return num}options=options?options:{};var nzh=options.nzh||{ch:"零一二三四五六七八九",ch_u:"个十百千万亿",ch_f:"负",ch_d:"点"};var ch=nzh.ch,ch_u=nzh.ch_u,ch_f=nzh.ch_f||"",ch_d=nzh.ch_d||".",n0=ch.charAt(0);var _int=result.int,_decimal=result.decimal,_minus=result.minus;var int="",dicimal="",minus=_minus?ch_f:"";var encodeInt=function encodeInt(_int,_m,_dg){_int=_.getNumbResult(_int).int;var int="",tenm=arguments.length>1?arguments[1]:options.tenMin,_length=_int.length;if(_length==1)return ch.charAt(+_int);if(_length<=4){for(var i=0,n=_length;n--;){var _num=+_int.charAt(i);int+=tenm&&_length==2&&i==0&&_num==1?"":ch.charAt(_num);int+=_num&&n?ch_u.charAt(n):"";i++}}else{var d=_int.length/4>>0,y=_int.length%4;while(y==0||!ch_u.charAt(3+d)){y+=4;d--}var _maxLeft=_int.substr(0,y),_other=_int.substr(y);int=encodeInt(_maxLeft,tenm)+ch_u.charAt(3+d)+(_other.charAt(0)=="0"?n0:"")+encodeInt(_other,tenm)}int=_.clearZero(int,n0);return int};if(_decimal){_decimal=_.clearZero(_decimal,"0","$");for(var x=0;x<_decimal.length;x++){dicimal+=ch.charAt(+_decimal.charAt(x))}dicimal=dicimal?ch_d+dicimal:""}int=encodeInt(_int);if(options.ww&&ch_u.length>5){var dw_w=ch_u.charAt(4),dw_y=ch_u.charAt(5);var lasty=int.lastIndexOf(dw_y);if(~lasty){int=int.substring(0,lasty).replace(new RegExp(dw_y,"g"),dw_w+dw_w)+int.substring(lasty)}}return minus+int+dicimal};_.extend=function(obj){_.each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];push.apply(args,arguments);return chainResult(this,func.apply(_,args))}});return _};_.extend(_)})();